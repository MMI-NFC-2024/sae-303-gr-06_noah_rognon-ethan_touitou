---
import Layout from "../layouts/Layout.astro";
import Header from "../components/Header.astro";
import SectionTitle from "../components/SectionTitle.astro";
import GraphBlock from "../components/GraphBlock.astro";
import CallToAction from "../components/CallToAction.astro";
import PlotFigure from "../components/PlotFigure.astro";
import { plotOptions3 } from "../data/plots";

const storytelling = [
  {
    title: "Un maillage culturel riche",
    text: "Chaque gare est une porte ouverte sur des festivals, musées, salles de spectacle ou bibliothèques accessibles à pied ou à vélo.",
  },
  {
    title: "Des festivals déjà engagés",
    text: "Beaucoup d’événements communiquent sur leur accessibilité en train. Cette carte leur offre une vitrine et encourage les partenariats SNCF.",
  },
  {
    title: "Une inspiration pour les offices",
    text: "Les territoires peuvent fabriquer des itinéraires « 48h sans voiture » en s’appuyant sur ces données.",
  },
];
---

<Layout
  title="Culture — Festivals et destinations accessibles en train"
  description="Cartes et récits pour valoriser les lieux culturels reliés au réseau ferroviaire."
>
  <Header
    eyebrow="Destination culture"
    title="Derrière chaque gare, une scène qui s’anime"
    description="Festivals, lieux culturels, villages classés : le train relie les publics aux expériences. Cette page vous aide à raconter cette proximité."
  >
    <a
      href="/accessibilite"
      class="inline-flex items-center justify-center rounded-full border border-sncf/40 px-5 py-2 text-sm font-semibold text-sncf transition hover:border-sncf hover:text-forest"
    >
      Passer à l’accessibilité
    </a>
  </Header>

  <section class="mx-auto mt-4 grid max-w-6xl gap-6 px-4 sm:px-6 lg:grid-cols-3 lg:px-8">
    {storytelling.map((item) => (
      <article class="rounded-3xl border border-slate/10 bg-snow/90 p-6 shadow-sm" data-reveal>
        <h3 class="text-lg font-semibold text-slate">{item.title}</h3>
        <p class="mt-3 text-sm text-slate/80">{item.text}</p>
      </article>
    ))}
  </section>

  <GraphBlock
    eyebrow="Vue nationale"
    title="Festivals accessibles à moins de 10 km d’une gare"
    description="Les points verts illustrent la proximité entre grands événements et réseau ferroviaire. Les points rouges révèlent les zones où des solutions de navettes ou de vélos partagés pourraient faire la différence."
    legend="Vert : festival à ≤ 10 km d’une gare. Rouge : au-delà de 10 km. Gris : réseau de gares voyageurs."
    source="defis.data.gouv.fr"
  >
    <PlotFigure slot="default" options={plotOptions3} />
  </GraphBlock>

  <SectionTitle
    eyebrow="Explorer par filtre"
    title="Une carte interactive pour construire des parcours"
    description="Filtrez par type de site, discipline artistique ou région. L’outil est pensé pour vos réunions de préparation de saison."
  />

  <GraphBlock
    eyebrow="Cartographie détaillée"
    title="Gares, lieux touristiques et festivals"
    description="Croisez les catégories culturelles, repérez les synergies possibles et concevez des séjours complets sans voiture."
    reverse
    source="defis.data.gouv.fr"
  >
    <div id="graph-tourisme" class="min-h-[460px]"></div>
    <script type="module" src="/scripts/tourismeCarte.js"></script>
  </GraphBlock>

  <SectionTitle
    eyebrow="Territoires inspirants"
    title="Histoires à raconter"
    description="Quelques exemples pour nourrir vos contenus éditoriaux ou réseaux sociaux."
  />

  <section class="mx-auto mt-10 max-w-5xl space-y-12 px-4 sm:px-6 lg:px-8">
    <article class="rounded-3xl border border-slate/10 bg-snow/90 p-8 shadow-sm" data-reveal>
      <h3 class="text-xl font-semibold text-slate">Bretagne — La fête sur le littoral</h3>
      <p class="mt-4 text-base text-slate/80">
        Entre Saint-Malo et Lorient, le rail dessert les festivals emblématiques. Mettez en avant l’arrivée directe en centre-ville
        et les navettes maritimes locales pour un séjour 100 % bas-carbone.
      </p>
    </article>
    <article class="rounded-3xl border border-slate/10 bg-snow/90 p-8 shadow-sm" data-reveal>
      <h3 class="text-xl font-semibold text-slate">Sud-Ouest — Un été au rythme des scènes</h3>
      <p class="mt-4 text-base text-slate/80">
        Bayonne, Pau, Tarbes : les gares relient la côte basque aux Pyrénées. Parfait pour valoriser des festivals pluridisciplinaires
        et les villages classés accessibles en TER.
      </p>
    </article>
    <article class="rounded-3xl border border-slate/10 bg-snow/90 p-8 shadow-sm" data-reveal>
      <h3 class="text-xl font-semibold text-slate">Grand Est — Entre patrimoine et musique</h3>
      <p class="mt-4 text-base text-slate/80">
        Strasbourg, Metz, Nancy multiplient les événements à portée de train. Associez patrimoine UNESCO et culture contemporaine
        pour un storytelling complet.
      </p>
    </article>
  </section>

  <CallToAction
    title="Envie d’aller plus loin ?"
    subtitle="Mesurez la densité de points d’intérêt autour des gares avec notre page Accessibilité, ou projetez-vous à l’horizon 2035."
    primaryLabel="Analyser l’accessibilité"
    primaryHref="/accessibilite"
    secondaryLabel="Explorer le futur"
    secondaryHref="/futur"
  />
</Layout>
